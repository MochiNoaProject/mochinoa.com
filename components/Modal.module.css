/* Modal Animations */
@keyframes fadeIn {
	from { opacity: 0; }
	to { opacity: 1; }
}

@keyframes fadeOut {
	from { opacity: 1; }
	to { opacity: 0; }
}

@keyframes scaleIn {
	from { transform: scale(0.95); }
	to { transform: scale(1); }
}

@keyframes scaleOut {
	from { transform: scale(1); }
	to { transform: scale(0.95); }
}

/*
  .root is assumed to be applied to the <dialog> element.
  Default state (when dialog is opened) will trigger entrance animations.
*/
.root {
	position: fixed;
	inset: 0;
	box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
	margin: auto;
	padding: 4px; /* Consider increasing padding if content touches edges */
	border-radius: 8px;
	max-height: 90vh;
	overflow: auto; /* Keep this if content can be long */
	z-index: 3200;
	border: none; /* Remove default dialog border if any */

	/* Entrance animations */
	/* Applied when the dialog becomes 'open' */
	animation: fadeIn 0.25s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards,
             scaleIn 0.25s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
}

/*
  Styling for the ::backdrop pseudo-element.
  This will also apply entrance animation.
*/
.root::backdrop {
	background: rgba(0, 0, 0, 0.5);
	/* Entrance animation for backdrop */
	animation: fadeIn 0.25s ease-out forwards;
}

/*
  Class to be added via JavaScript to trigger exit animations
  before removing the modal from the DOM.
*/
.rootClosing {
	animation: fadeOut 0.25s cubic-bezier(0.550, 0.055, 0.675, 0.190) forwards,
             scaleOut 0.25s cubic-bezier(0.550, 0.055, 0.675, 0.190) forwards;
}

/*
  When the dialog has the .rootClosing class, its backdrop should also animate out.
*/
.rootClosing::backdrop {
	animation: fadeOut 0.25s ease-in forwards;
}


/* Close button styling - unchanged for now, but ensure it's usable */
.CloseButton {
	float: right;
	cursor: pointer;
	padding: 0.25rem 0.5rem; /* Adjusted padding */
	border: 1px solid #e0e0e0;
	border-radius: 4px; /* Added border-radius */
	background-color: white; /* Explicit background */
	transition: background-color 0.2s, box-shadow 0.2s;
	font-size: 1rem; /* Ensure readable size */
	line-height: 1; /* Ensure tight fit */
	margin: 0.5rem; /* Spacing from corner */
}

.CloseButton:hover {
	background-color: #f5f5f5;
	border-color: #cccccc;
	box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.CloseButton:focus-visible {
	outline: 2px solid var(--primary-color); /* Using a brand color for focus */
	outline-offset: 1px;
}

/* Mobile Responsiveness */
@media screen and (max-width: 48rem) {
	.root {
		/* Adjust padding for smaller screens. Original was 4px. */
		/* This padding is for the dialog element itself. Content inside needs its own padding. */
		padding: clamp(8px, 2vw, 16px);
		max-width: calc(100vw - 32px); /* Ensure modal is not edge-to-edge */
		max-height: calc(100vh - 32px); /* Ensure modal is not edge-to-edge */
		border-radius: 6px; /* Slightly smaller border radius */
	}

	.CloseButton {
		padding: 0.5rem 0.75rem; /* Increased padding for better tappability */
		font-size: 1.1rem; /* Slightly larger font for easier interaction */
		margin: 0.25rem; /* Adjust margin if needed */
	}
}
